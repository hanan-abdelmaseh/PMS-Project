"use strict";(self.webpackChunkpms=self.webpackChunkpms||[]).push([[733],{733:(J,u,n)=>{n.r(u),n.d(u,{ProjectsModule:()=>y});var c=n(6814),l=n(1896),t=n(5879),d=n(1355),f=n(6227),v=n(7700),m=n(6223),S=n(2296),p=n(9157),j=n(2032),P=n(617),g=n(5195),C=n(3365),N=n(5047);function b(a,A){if(1&a){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.resetSearchInput())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}const T=function(){return[5,10,25,100]};function Z(a,A){if(1&a){const e=t.EpF();t.TgZ(0,"mat-paginator",10),t.NdJ("page",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.changePage(r))}),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("length",e.pagination.totalNumberOfRecords)("pageSize",e.pagination.pageSize)("pageSizeOptions",t.DdM(3,T))}}const z=[{path:"",component:(()=>{class a{constructor(e,o,r,s){this._projectService=e,this._helperSerivce=o,this._Router=r,this.dialog=s,this.table={colDefs:[{field:"title",headerName:"Title"},{field:"description",headerName:"Description"},{headerName:"Num Tasks",valueGetter:i=>i.task.length},{field:"creationDate",headerName:"Created At",valueFormatter:i=>new c.uU("en").transform(i,"fullDate")},{field:"modificationDate",headerName:"Modified At",valueFormatter:i=>new c.uU("en").transform(i,"fullDate")}],data:[],operators:[]},this.pagination={pageSize:10,pageNumber:1,totalNumberOfRecords:0,totalNumberOfPages:0},this.params={title:"",pageSize:this.pagination.pageSize,pageNumber:this.pagination.pageNumber}}ngOnInit(){this.getProjects()}getProjects(){this._projectService.getProjectsByEmployee(this.params).subscribe({next:e=>{this.table.data=e.data,this.pagination=(({pageSize:o,pageNumber:r,totalNumberOfRecords:s,totalNumberOfPages:i,...h})=>({pageSize:o,pageNumber:r,totalNumberOfRecords:s,totalNumberOfPages:i}))(e)},error:e=>{this._helperSerivce.openSnackBar(this._helperSerivce.getErrorMessage(e))}})}resetSearchInput(){this.params.title="",this.getProjects()}changePage(e){this.params.pageNumber=e.pageIndex+1,this.params.pageSize=e.pageSize,this.getProjects()}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(d.Y),t.Y36(f.W_),t.Y36(l.F0),t.Y36(v.uw))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-projects"]],decls:20,vars:4,consts:[[1,"section-header"],[1,"p-4"],["appearance","outline",1,"w-25"],["mat-icon-button","","matPrefix",""],["matInput","","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup.enter"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"m-0","overflow-x-auto"],[3,"table"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page"]],template:function(o,r){1&o&&(t.TgZ(0,"section")(1,"div")(2,"div",0)(3,"h2"),t._uU(4,"Projects"),t.qZA()(),t.TgZ(5,"div",1)(6,"mat-card")(7,"mat-card-header")(8,"mat-form-field",2)(9,"button",3)(10,"mat-icon"),t._uU(11,"search"),t.qZA()(),t.TgZ(12,"mat-label"),t._uU(13,"Search"),t.qZA(),t.TgZ(14,"input",4),t.NdJ("ngModelChange",function(i){return r.params.title=i})("keyup.enter",function(){return r.getProjects()}),t.qZA(),t.YNc(15,b,3,0,"button",5),t.qZA()(),t.TgZ(16,"mat-card-content")(17,"div",6),t._UZ(18,"app-table",7),t.YNc(19,Z,1,4,"mat-paginator",8),t.qZA()()()()()()),2&o&&(t.xp6(14),t.Q6J("ngModel",r.params.title),t.xp6(1),t.Q6J("ngIf",r.params.title),t.xp6(3),t.Q6J("table",r.table),t.xp6(1),t.Q6J("ngIf",r.table.data.length))},dependencies:[c.O5,m.Fj,m.JJ,m.On,S.RK,p.KE,p.hX,p.qo,p.R9,j.Nt,P.Hw,g.a8,g.dn,g.dk,C.NW,N.a]})}return a})()}];let x=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.oAB({type:a});static#a=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(z),l.Bz]})}return a})();var M=n(5153);let y=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.oAB({type:a});static#a=this.\u0275inj=t.cJS({imports:[c.ez,x,M.m]})}return a})()}}]);